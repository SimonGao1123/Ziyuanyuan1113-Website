<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF-8" />
        <title>SUB1 VD - Judy Ziyuan Gao</title>
        <link rel="stylesheet" href="sub1VD.css"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!--This improves SEO and makes the website the same scale no matter the device-->
        <meta name="description" content="Ziyuanyuan Art Portfolio" /> <!--Improves accessibility, description of contents of website-->
        <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
        
    </head>
    <body>
        <!-- NAVBAR -->
        <header>
            <nav id = "navbar">
                <!-- TO ENSURE MARGINS ARE SAME WITH REST OF PAGE -->
                <div class="nav-content">
                    <h1 id="navHead">JUDY ZIYUAN GAO</h1>




                    <!-- Navbar for PC -->
                    <ul id="navList">
                        <li><a target="_blank" href="../../index.html">GALLERY</a></li>
                        <li><a target="_blank" class="active" href="../visualDevelopment.html">VISUAL<br/>DEVELOPMENT</a></li>
                        <li><a target="_blank" href="../../CharDesign/characterDesign.html">CHARACTER<br/>DESIGN</a></li>
                        <li><a target="_blank" href="../../Storyboard/storyboard.html">STORYBOARD</a></li>
                        <li><a target="_blank" href="../../Illustration/illustration.html">ILLUSTRATION</a></li>
                        <li><a target="_blank" href="../../About/about.html">ABOUT</a></li>
                    </ul>


                    
                </div>
                <!--Dropdown Navbar Menu for Mobile with ☰ button -->
                <div id="navbarMob">
                    <button id="menuButton">☰</button>
                    <ul id="listDown">
                        <li><a target="_blank" href="../../index.html">GALLERY</a></li>
                        <li><a target="_blank" class="active" href="../visualDevelopment.html">VISUAL<br/>DEVELOPMENT</a></li>
                        <li><a target="_blank" href="../../CharDesign/characterDesign.html">CHARACTER<br/>DESIGN</a></li>
                        <li><a target="_blank" href="../../Storyboard/storyboard.html">STORYBOARD</a></li>
                        <li><a target="_blank" href="../../Illustration/illustration.html">ILLUSTRATION</a></li>
                        <li><a target="_blank" href="../../About/about.html">ABOUT</a></li>
                    </ul>   
                </div>
            </nav>
        </header>


        <!-- SCRIPT FOR NAVBAR OPENING AND CLOSING NAVBAR DEPENDING ON SCROLL -->
        <script>
            const navbar = document.getElementById('navbar');
            let lastScrollY = window.scrollY;


            window.addEventListener('scroll', () => {
                const currentScrollY = window.scrollY;


                if (currentScrollY > lastScrollY) {
                // Scrolling down
                navbar.style.opacity = '0';
                } else {
                // Scrolling up
                navbar.style.opacity = '1';
                }


                lastScrollY = currentScrollY;
            });
        </script>


        <!-- SCRIPT FOR HAMBURGER MENU FOR MOBILE DISPLAY -->
        <script>
            const menuButton = document.getElementById('menuButton');
            const listDown = document.getElementById('listDown');


            // Toggle on button click
            menuButton.addEventListener('click', (event) => {
                listDown.classList.add('active');
                event.stopPropagation(); // Prevent the event from bubbling up to the document
            });


            // Clicking anywhere else closes the dropdown
            document.addEventListener('click', (event) => {
                const isClickInsideMenu = listDown.contains(event.target);
                const isClickOnButton = menuButton.contains(event.target);


                if (!isClickInsideMenu && !isClickOnButton) { // if menu is open and click not inside menu then retract
                    listDown.classList.remove('active'); // remove active state (make max height 0 again)
                }
            });
        </script>


        <div id="gallery">
            <!-- THE 'FIRST' AND 'ONE' CLASS IS TO PREPARE FOR FUTURE SECTIONS WITH DIFFERENT FORMATS -->
            <div class="section one">
                <img class="image" src="https://images.unsplash.com/photo-1506744038136-46273834b3fb"/>
                <img class="image" src="https://images.unsplash.com/photo-1501785888041-af3ef285b470"/>
                <img class="image" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e"/>
            </div>
                    
            <!--HIDDEN CONTAINER FOR SLIDESHOW-->
            <div class="slideshow">
                <button class="close">&times;</button>
                <button class="next">&#10095;</button>
                <button class="prev">&#10094;</button>
                <img class="slideshow-img"/>
            </div>
        </div>



        
                <!-- SLIDESHOW SCRIPT -->
        <script>
            const closeBt = document.querySelector('.close');
            const nextBt = document.querySelector('.next');
            const prevBt = document.querySelector('.prev');

            // the variable that will be given and removed from the class .show to show visibility
            const slideshow = document.querySelector('.slideshow');

            // selections all elements with class 'section'
            const images = document.querySelectorAll('.section img');
            const slideshowImg = document.querySelector('.slideshow-img');

            let imageArr = Array.from(images).map(img => img.src);

            // will iterate through the image array full of all the images from the section
            var currInd = 0;

            function showImg (index) {

                slideshowImg.classList.add('invis'); // this will cause the fading effect when switching images 
                // first remove and then readd the slideshow with a gap in timein the middle
                
                setTimeout (function () {
                    // parameter of an image and displays the image from the array at that index
                    currInd = index; // update current index for future movement
                    slideshowImg.src = imageArr[index];
                    slideshow.classList.add('show');
                    slideshowImg.classList.remove('invis'); // this will cause the fading effect when switching images 

                }, 200);
            }

            // each image becomes a button and when they are clicked 
            // they will display the slideshow image from that index they are attached to
            images.forEach(function(img, index) {
                img.addEventListener('click', function() {
                    showImg(index);
                });
            });

            closeBt.addEventListener('click', function () {
                slideshow.classList.remove('show');
            });
            nextBt.addEventListener('click', function () {
                // modulus prevents overflow and just loops around when above array length acheived
                currInd = (currInd + 1) % imageArr.length;
                showImg(currInd);
            });
            prevBt.addEventListener('click', function () {
                currInd = (imageArr.length + (currInd - 1)) % imageArr.length;
                showImg(currInd);
            });

            // 'keydown' refers to whenever the use presses a key
            // hotkeys instead of using buttons (left and right arrow keys and escape)
            // e is the key they pressed
            document.addEventListener('keydown', function(e) {
                // if slideshow is not shown then don't proceed with hotkeys
                if (!slideshow.classList.contains('show')) {
                    return;
                }
                if (e.key == 'ArrowLeft') {
                    prevBt.click();
                }
                if (e.key == 'ArrowRight') {
                    nextBt.click();
                }
                if (e.key == 'Escape') {
                    closeBt.click();
                }
            }); 

        </script>
    </body>
</html>

